@using global::Shared.StateContainers;
@using global::Shared.Entities;

@inject NavigationManager navigationManager;

<MudItem md="3" xs="6">
    <MudCard @onclick="() => NavigateToChallengeView(Challenge.Id)" Elevation="4" Class="rounded-lg custom-card">
        <MudCardMedia Image=@Challenge.BannerImagePath Height="100"></MudCardMedia>
        <MudCardContent>
            <h2 class="card-centered-text">@Challenge.Title</h2>
        </MudCardContent>
        <MudCardContent>
            <MudGrid>
                <MudItem md="6">
                    @* TODO: Make use of challenge view *@
                    @* <h3 class="card-organization-title">@Challenge.Organization.Name</h3> *@
                    <h3 class="card-organization-title">FIX CHALLENGE ORGANIZATION NAME</h3>
                </MudItem>
                <MudItem md="6">
                    <MudCardMedia Image="Assets/Img/1600x888.jpg" Height="80"></MudCardMedia>
                </MudItem>
            </MudGrid>
        </MudCardContent>
        <MudCardContent>
            <p class="card-centered-text">@Challenge.ShortDescription</p>
        </MudCardContent>
        <MudDivider></MudDivider>
        <MudCardContent>
            <MudGrid Justify="Justify.Center">
                @foreach (var tag in Challenge.Tags.Select(t => t.Value))
                {
                    <MudChip>@tag</MudChip>
                }
            </MudGrid>
        </MudCardContent>
    </MudCard>
</MudItem>

@code {
    [Parameter]
    public Challenge Challenge { get; set; }

    public void NavigateToChallengeView(Guid challengeId)
    {
        navigationManager.NavigateTo($"/challenge-view/{challengeId}");
    }
}